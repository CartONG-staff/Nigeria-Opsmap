(function(t){function e(e){for(var s,i,o=e[0],c=e[1],l=e[2],d=0,m=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&m.push(r[i][0]),r[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(m.length)m.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,i=1;i<a.length;i++){var c=a[i];0!==r[c]&&(s=!1)}s&&(n.splice(e--,1),t=o(o.s=a[0]))}return t}var s={},r={app:0},n=[];function i(t){return o.p+"js/"+({}[t]||t)+"."+{"chunk-2d216214":"8db2bc27","chunk-2d216257":"256ee085","chunk-43631aa8":"0677d892"}[t]+".js"}function o(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.e=function(t){var e=[],a=r[t];if(0!==a)if(a)e.push(a[2]);else{var s=new Promise((function(e,s){a=r[t]=[e,s]}));e.push(a[2]=s);var n,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=i(t);var l=new Error;n=function(e){c.onerror=c.onload=null,clearTimeout(d);var a=r[t];if(0!==a){if(a){var s=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+s+": "+n+")",l.name="ChunkLoadError",l.type=s,l.request=n,a[1](l)}r[t]=void 0}};var d=setTimeout((function(){n({type:"timeout",target:c})}),12e4);c.onerror=c.onload=n,document.head.appendChild(c)}return Promise.all(e)},o.m=t,o.c=s,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(a,s,function(e){return t[e]}.bind(null,s));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var u=l;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var s=a("85ec"),r=a.n(s);r.a},"0e5b":function(t,e,a){"use strict";var s=a("bc43"),r=a.n(s);r.a},"0f87":function(t,e,a){},"11ba":function(t,e,a){},"172d":function(t,e,a){"use strict";var s=a("11ba"),r=a.n(s);r.a},"29e8":function(t,e,a){},"324c":function(t,e,a){"use strict";var s=a("0f87"),r=a.n(s);r.a},4049:function(t,e,a){"use strict";var s=a("29e8"),r=a.n(s);r.a},"45a5":function(t,e,a){},4678:function(t,e,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(t){var e=n(t);return a(e)}function n(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}r.keys=function(){return Object.keys(s)},r.resolve=n,t.exports=r,r.id="4678"},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-dialog",{attrs:{persistent:"",fullscreen:"","content-class":"loading-dialog"},model:{value:t.showLoaders,callback:function(e){t.showLoaders=e},expression:"showLoaders"}},[a("v-container",{attrs:{"fill-height":""}},[a("v-layout",{attrs:{row:"","justify-center":"","align-center":""}},[t.dataError?t._e():a("clip-loader",{attrs:{color:t.loadingColor}}),t.dataError?a("h2",{staticClass:"primary--text"},[t._v("An error occured, please try again later. If the problem persists, please contact the application administrator.")]):t._e()],1)],1)],1),a("v-container",[a("Header"),null!=t.selectedCamp?a("survey-viewer"):t._e(),a("Footer")],1)],1)},n=[],i=a("da7a"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticClass:"d-flex mb-7 flex-wrap"},[a("div",{staticClass:"d-flex justify-space-around header"},[a("div",{staticClass:"d-flex align-center justify-start"},[a("img",{staticClass:"appLogo",attrs:{src:t.imgUrl+"sector_logo.png",alt:""}})]),t._m(0)]),a("div",{staticClass:"d-flex align-center justify-space-between filters-container"},[a("div",{staticClass:"d-flex filter pa-4"},[a("v-select",{attrs:{items:t.states,"item-text":"name",label:"Select a State","item-value":"id",clearable:"",color:"secondary"},model:{value:t.selectedState,callback:function(e){t.selectedState=e},expression:"selectedState"}})],1),a("div",{staticClass:"d-flex filter pa-4"},[a("v-select",{attrs:{items:t.lgas,"item-text":"name",label:"Select a Local Government Area","item-value":"id",clearable:"",color:"secondary"},model:{value:t.selectedLga,callback:function(e){t.selectedLga=e},expression:"selectedLga"}})],1),a("div",{staticClass:"d-flex filter pa-4"},[a("v-autocomplete",{attrs:{items:t.camps,"item-text":"searchName",label:"Select a Camp","item-value":"id",color:"secondary",clearable:""},model:{value:t.selectedCamp,callback:function(e){t.selectedCamp=e},expression:"selectedCamp"}})],1)])]),a("div",{staticClass:"map-container mb-7"},[t.datasetLoaded?a("the-map"):t._e()],1)])},c=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex align-center justify-end"},[a("h2",{staticClass:"secondary--text"},[t._v(" CCCM Site Tracker")])])}],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"map"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.showLoaders,expression:"!showLoaders"}],staticClass:"filter-container"},[a("MarkersFilters")],1)])},d=[],u=(a("99af"),a("4de4"),a("d81d"),a("fb6a"),a("b0c0"),a("b85c")),m=(a("96cf"),a("1da1")),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex flex-column"},[a("div",{staticClass:"d-flex flex-row align-center"},[a("v-checkbox",{staticClass:"checkbox",attrs:{"hide-details":""},model:{value:t.showInformalCamps,callback:function(e){t.showInformalCamps=e},expression:"showInformalCamps"}}),a("img",{staticClass:"legend-marker mr-2",attrs:{src:t.imgURL+"spontaneous_site.png",alt:""}}),a("span",[t._v("Informal Settlements")])],1),a("div",{staticClass:"d-flex flex-row align-center"},[a("v-checkbox",{staticClass:"checkbox",attrs:{"hide-details":""},model:{value:t.showFormalCamps,callback:function(e){t.showFormalCamps=e},expression:"showFormalCamps"}}),a("img",{staticClass:"legend-marker mr-2",attrs:{src:t.imgURL+"default.png",alt:""}}),a("span",[t._v("Planned Camps")])],1)])},p=[],h=!1,g=h?"/markers/":"./markers/",v={name:"MarkersFilters",data:function(){return{imgURL:g}},computed:{showFormalCamps:{get:function(){return this.$store.state.showFormalCamps},set:function(t){this.$store.commit("togglFormalCamps",t),this.$store.commit("filterCamps")}},showInformalCamps:{get:function(){return this.$store.state.showInformalCamps},set:function(t){this.$store.commit("togglInformalCamps",t),this.$store.commit("filterCamps")}}}},b=v,y=(a("172d"),a("2877")),_=a("6544"),C=a.n(_),j=a("ac7c"),w=Object(y["a"])(b,f,p,!1,null,"caa96850",null),x=w.exports;C()(w,{VCheckbox:j["a"]});var k=a("e192"),L=a.n(k),S=function(t){var e={type:"FeatureCollection",features:[]};return t.map((function(t){return e.features.push({type:"Feature",geometry:{type:"Point",coordinates:[t.long,t.lat]},properties:{id:t.id,name:t.name,site_type:t.site_type}})})),e},D=function(t){var e,a,s={};if(1===t.length){var r,n=Object(u["a"])(t[0]);try{for(n.s();!(r=n.n()).done;){var i=r.value;a=i[0],e=i[1],s.xMin=s.xMin<a?s.xMin:a,s.xMax=s.xMax>a?s.xMax:a,s.yMin=s.yMin<e?s.yMin:e,s.yMax=s.yMax>e?s.yMax:e}}catch(p){n.e(p)}finally{n.f()}}else{var o,c=Object(u["a"])(t);try{for(c.s();!(o=c.n()).done;){var l,d=o.value,m=Object(u["a"])(d);try{for(m.s();!(l=m.n()).done;){var f=l.value;a=f[0],e=f[1],s.xMin=s.xMin<a?s.xMin:a,s.xMax=s.xMax>a?s.xMax:a,s.yMin=s.yMin<e?s.yMin:e,s.yMax=s.yMax>e?s.yMax:e}}catch(p){m.e(p)}finally{m.f()}}}catch(p){c.e(p)}finally{c.f()}}return[[s.xMin,s.yMin],[s.xMax,s.yMax]]},I={type:"FeatureCollection",features:[{type:"Feature",properties:{id:1},geometry:{type:"MultiPolygon",coordinates:[[[[-19.65970055255879,27.507432890460123],[36.54713668463114,28.3633745742752],[36.54713668463114,-10.154001197403176],[-14.238736555063312,-6.730234462142874],[-14.238736555063312,-6.444920567537849],[-19.65970055255879,27.507432890460123]],[[5.746892080094365,4.49147264865271],[5.741876246873927,4.49886175880652],[5.728152324952335,4.509283528390754],[5.740920169917042,4.490117491210862],[5.746892080094365,4.49147264865271]],[[8.332864832472357,4.589962394744236],[8.341630054025641,4.623594739774976],[8.33236509967981,4.63987967269268],[8.310278042126118,4.609399769937643],[8.315431676911103,4.589641560559188],[8.332864832472357,4.589962394744236]],[[8.305132043021024,4.796165450833927],[8.30666546721101,4.809515434948992],[8.283135535647956,4.832395500029921],[8.283942312604612,4.810777687994752],[8.305132043021024,4.796165450833927]],[[5.8833724025584,13.736528319722394],[5.660796285622947,13.820900844829788],[5.526560403896266,13.889286946845635],[5.351700908391138,13.841018591886044],[5.337073910114409,13.805530471033968],[5.284217487954431,13.75574196148803],[5.231354777587505,13.738841889968684],[4.951816668149086,13.735795927263835],[4.905740370427544,13.748324296202677],[4.875093985183701,13.785200972367418],[4.45800071904378,13.677681814459667],[4.236287703433294,13.48007182376463],[4.140186383495836,13.477235594857918],[4.142666901489866,13.163719867800827],[4.101305591200092,12.98675314330253],[3.953798179128894,12.749352995209277],[3.659353605528829,12.526703314250456],[3.671086142128622,12.264703164034534],[3.633250539665964,12.121689114306497],[3.679061025894903,11.976535117958408],[3.619297816841483,11.923523214686496],[3.626904121846712,11.840182546423705],[3.667939972509047,11.812882650211975],[3.684516494615367,11.761912496746863],[3.600055993287152,11.691836480514416],[3.55795465086633,11.631876157713391],[3.471126549775301,11.448572264468226],[3.691927056720195,11.128137558549758],[3.725914366337209,11.124093992567056],[3.716902108080789,11.024341538214307],[3.751768239540274,11.0106334584852],[3.771224131626794,10.930768849226894],[3.749384020944691,10.825558596226037],[3.797159032868483,10.735461117383457],[3.840978942259376,10.704920632766363],[3.850976113393276,10.59981046702358],[3.806164104602622,10.502995264682497],[3.786002046871261,10.405381926748706],[3.687709196966658,10.456359633391845],[3.631809102961058,10.417264722464887],[3.63380102727205,10.390361527266927],[3.58462509266268,10.275144269467795],[3.612528202691888,10.221716593477119],[3.678951072104141,10.169747091783806],[3.66293411058829,10.107060151147476],[3.615721084706231,10.075978888315674],[3.595777137925832,9.945734596874386],[3.529646041317864,9.862080215409646],[3.456388070571812,9.861169418677278],[3.346855230337715,9.817593209140119],[3.32334308541729,9.776752067727186],[3.34859805182045,9.685224126570825],[3.315170123130855,9.657741064934875],[3.263500285629702,9.65235472355126],[3.253443107034792,9.60986946748054],[3.194886065913356,9.515106674801983],[3.154557997863372,9.49290415505652],[3.136215028582352,9.462842427884766],[3.157170119046545,9.282454901529487],[3.126350269121317,9.252192917886543],[3.123699071223304,9.19224207644725],[3.088169174600412,9.101576239846777],[3.008144194819047,9.073915871666918],[2.953382086615366,9.092597330307253],[2.896044059334473,9.083708142375814],[2.867592168498197,9.06214749551986],[2.780915074206451,9.065204970270457],[2.772256213182803,9.00749241601096],[2.788786292388953,8.970235233259212],[2.758113227181182,8.907857264865402],[2.773553200790039,8.894721343114954],[2.757066061054481,8.863537096282514],[2.763381127670298,8.809781392708123],[2.728413217089139,8.772681477628723],[2.746089097440156,8.735201121106448],[2.737560132806633,8.6548607685866],[2.761837372854525,8.505326505055097],[2.740681239429756,8.44501226502377],[2.706947164891349,8.420314952688305],[2.714009090834388,8.387239640617615],[2.695632075404109,8.324167396314701],[2.714598026334678,8.260537281974983],[2.754102069774502,8.211310551405438],[2.69550119086721,7.930816231521046],[2.668432076747777,7.889779172682831],[2.729464156140015,7.792220135185645],[2.730280994227863,7.580172074176074],[2.749486076687074,7.527501053265163],[2.79292734618569,7.494518294655396],[2.799681060154761,7.437969153649447],[2.785810084021148,7.418705943935174],[2.74757823468667,7.417437003857404],[2.74946029503841,7.261150727739141],[2.774253976543162,7.234417847834067],[2.784869278424086,7.159224901696957],[2.745093225116186,7.0926750876148],[2.792603144199654,7.041273958678214],[2.720640005104136,6.986533997664959],[2.718215092826172,6.940328900598421],[2.751513125125676,6.912413980327308],[2.732744084905402,6.778644888750529],[2.751790165559297,6.759045931714807],[2.786294096296223,6.754577969001994],[2.789703023136403,6.738930987438397],[2.786590181013876,6.694787788362486],[2.731427963182657,6.630782898188166],[2.753123175609408,6.57046484266766],[2.720289123154138,6.507768926175951],[2.709604112007185,6.368818024096817],[2.904880157963682,6.391886000651185],[3.390861090992415,6.39098282381782],[3.409288232415566,6.40889188769902],[3.827943129845399,6.434983987487171],[4.044345934316879,6.419985991672204],[4.361388257709638,6.369918095682209],[4.529322191531854,6.304783595224457],[4.750226094565931,6.129016592076655],[4.920496097284506,5.962323846299938],[5.036396106420905,5.778291804142802],[5.07490643349346,5.750305807415467],[5.077948218877011,5.701050842972119],[5.173783367995794,5.578261446508228],[5.190475054121542,5.494427774251548],[5.260779903202594,5.434775931894373],[5.38742025970745,5.391225841266793],[5.376717192423305,5.356746748783848],[5.33035720673502,5.367292434899341],[5.322959041381138,5.354894728269173],[5.35210335363843,5.170876566203566],[5.422045283344678,5.029949658912467],[5.46424014038658,4.90270851098814],[5.458873335384666,4.881323788339768],[5.621665132857509,4.614967764852197],[5.746708464450279,4.502062259348076],[5.760585369464768,4.474603571398998],[5.881078374817334,4.378962438575005],[5.988363360715974,4.310302647322211],[6.084265344491907,4.277553502150128],[6.411490071630162,4.308838323303012],[6.398240190683994,4.331974437903442],[6.43003902460586,4.342106723458577],[6.455474911707213,4.314919365600254],[6.603456095259275,4.336946365506884],[6.616867133967425,4.322319457025881],[6.713893988142122,4.350626387336731],[6.868610021042271,4.362760431499117],[6.856357180229935,4.376479573540855],[6.870450130070261,4.394061519874355],[6.950634111656876,4.374140639073589],[6.972556238524409,4.387634666766703],[6.996283170629269,4.372842680905078],[7.014683362593895,4.393646643161624],[7.005134181292162,4.38741531407087],[7.013476476009668,4.406547481116391],[6.991503324833999,4.465522720234857],[7.017931041840583,4.458340604068607],[7.030931999621512,4.43588253758583],[7.105372063449937,4.45064631011202],[7.10322104750212,4.463284462473983],[7.140978406703523,4.476188562266119],[7.164273338988284,4.457478501806536],[7.145344308815887,4.408121512061574],[7.130410266375049,4.411933332947057],[7.131721088037619,4.388016585720758],[7.205116321359095,4.387349570947358],[7.313344089148412,4.42555036328857],[7.30951412193459,4.449682636933649],[7.400886171227262,4.436690748592825],[7.574171189533918,4.454329392888827],[7.591593385648714,4.492164555320987],[7.614618374190592,4.478270503184951],[7.660570255245269,4.502702662252077],[7.992014009946921,4.54349939792612],[8.27923594899958,4.538612769385775],[8.30750853610517,4.612605509122279],[8.329823586077962,4.64331762165243],[8.312070001454849,4.659558764696282],[8.323491181977165,4.668818464931814],[8.324888331738533,4.707243376815479],[8.309906049766962,4.718472491348181],[8.317993222943757,4.751835297692604],[8.25016125617684,4.819801820480319],[8.265407642841962,4.843114860649702],[8.300243501076363,4.851117615389068],[8.33822543909883,4.829232668146548],[8.333291172906206,4.808042549811381],[8.370849734935245,4.779022644829265],[8.401113617531125,4.783777710399807],[8.387970097114563,4.752655504767678],[8.40483201398668,4.731577878940485],[8.429173573408915,4.727559520177749],[8.465051746867491,4.755114508732942],[8.478456587200169,4.736548400233393],[8.45983037911009,4.700799441625581],[8.50964555487564,4.695526590200539],[8.532496539746973,4.713122332320437],[8.525886646054873,4.751003720236906],[8.545185153303617,4.804775676705381],[8.561829677876949,4.818025594370069],[8.590405536222441,4.802377721905257],[8.629452786340309,4.826161393353335],[8.604892846472483,4.884873844205096],[8.65330224864993,4.917288814772312],[8.651782119526153,4.945804622261067],[8.69770723078536,4.986966616021454],[8.682018334011266,5.003454675358141],[8.721836158979864,5.073797726455308],[8.775338290166056,5.11682842715852],[8.816416810804386,5.184826389782747],[8.81402405821361,5.291017573130626],[8.843142588822207,5.386259632241956],[8.839853407409416,5.449238900846651],[8.907001576582052,5.57556593526698],[8.902043415202906,5.60405883491887],[8.81960591989452,5.695438461472675],[8.818800041253128,5.719579794807781],[8.828034452879315,5.710193739762135],[8.851780069942068,5.740424729149511],[8.869445889161927,5.793390898084018],[8.842865997546234,5.826611628909871],[9.135454292443189,6.07346073889618],[9.186837297874124,6.149495756007173],[9.265647935054385,6.184098951431273],[9.337633262537409,6.289654023502756],[9.350651827297948,6.351412974752084],[9.433845614244012,6.315769857108205],[9.466175172835719,6.449892813170684],[9.528182103974281,6.442776900375645],[9.584773182096441,6.471442034395772],[9.599216564729085,6.53036282732551],[9.70689303642856,6.513277751025607],[9.757187912555851,6.654555149629413],[9.755852746549042,6.704644067556642],[9.784035771620783,6.796420869198409],[9.87995248776738,6.76982195079563],[10.154897780652684,7.039547844324584],[10.17988783387854,7.01546083216349],[10.174901106073326,6.94084485697755],[10.217493108302344,6.891085017906746],[10.47107322979627,6.915551985394279],[10.493732514185972,6.899969928257156],[10.54315288038416,6.941084286940622],[10.576606860216982,7.161689193625069],[10.60335644358985,7.140621064881879],[10.601227885524136,7.075840805767543],[10.631207541164116,7.050185085641931],[10.681618749120695,7.041801839379566],[10.687433364291753,7.017236073237979],[10.74065216683731,6.988870012782975],[10.768116090524106,6.954010827175663],[10.801913316626997,6.962815191683798],[10.844776250745708,6.933039997719452],[10.819683160756776,6.844075085829941],[10.841157028297514,6.809884837419255],[10.879603485153407,6.795719932938202],[10.898775150284026,6.760373868109193],[10.910948849519812,6.767980930384851],[10.921900839969227,6.705734032718981],[10.949317063114417,6.68464687417902],[10.99784378526799,6.684282139238197],[11.035947894169077,6.718820829211525],[11.072061605895138,6.717048935015174],[11.104790735125192,6.682180714647456],[11.100942711774143,6.541075052815542],[11.13380344419334,6.539801856841459],[11.162888647304921,6.563392938646839],[11.245175405308618,6.521487949501704],[11.28165536017601,6.537984160038851],[11.352637359318225,6.502451668514414],[11.362635698262016,6.528015849368135],[11.429532159492048,6.530620845183817],[11.433358263950186,6.599604908689557],[11.520920827617493,6.609880714883396],[11.553566054200045,6.664046061773355],[11.55724726040283,6.716009937007601],[11.590261514904116,6.739828894269761],[11.576283549420129,6.780910832443761],[11.600345732789025,6.800782029185365],[11.559346263895703,6.866794894413056],[11.580116391242898,6.903887094561877],[11.614347503628027,6.914377064089533],[11.631996254857468,6.982245789303531],[11.715523765931602,7.03246581370602],[11.718404842710818,7.058904099926424],[11.827909565676531,7.061652070959726],[11.846931571480814,7.079652196623559],[11.803033957817858,7.236860165301527],[11.829287581322356,7.344940129603067],[11.950711331140827,7.487834871177606],[12.039431643546298,7.523086991365425],[12.01776230259972,7.651153105096454],[12.04232125432074,7.731844903978986],[12.096502422030165,7.836288065352422],[12.152971329273672,7.886085102491169],[12.219640786231443,7.988359051278479],[12.206108205465341,8.088710881234142],[12.258724328286782,8.187206428822236],[12.226057182811319,8.364014794323527],[12.237027229397928,8.428883757222573],[12.309388232332774,8.466918217509441],[12.405059888069852,8.478928749930919],[12.480325773138999,8.622394767048965],[12.58879958948464,8.597904405939188],[12.643656829276908,8.642397164245773],[12.67896753697049,8.645392676525985],[12.710773557414601,8.686961395803568],[12.722585774580072,8.74861840150182],[12.790658130517034,8.759625704603668],[12.808941002505534,8.789382243485964],[12.788418900008313,8.852447851908572],[12.801602485286521,8.88539249431362],[12.79029566029988,8.917266210725687],[12.833046035513478,8.95430307957732],[12.878328402186925,9.031340917956111],[12.892353169897188,9.117156409307052],[12.8787260863632,9.150405275612215],[12.903888795786651,9.232386944247825],[12.9024401725595,9.352379307424854],[12.856298567316806,9.36336849333707],[12.854768826219487,9.384970123490758],[13.046824501713926,9.510301125419565],[13.176338299318104,9.523526699819117],[13.219327985723398,9.542587756519401],[13.235875222751474,9.56887768171639],[13.263045397340372,9.747399858787446],[13.297945125791468,9.79698807988575],[13.22692494824968,9.869383402542361],[13.227476244339552,9.89767321542256],[13.257289981146535,9.919890070307005],[13.275863727624056,9.963900232465907],[13.247990711156845,10.015751528551872],[13.315537552652598,10.109894471559324],[13.41040521621039,10.12846440427462],[13.45960720196302,10.186851164256419],[13.463814820922313,10.235170073885746],[13.509507268522913,10.307338467074496],[13.527234173182098,10.46290562702685],[13.553228453064063,10.489457882209127],[13.529275055676102,10.591278845346887],[13.539084478915601,10.63939456882911],[13.589808570085655,10.69616492108821],[13.6118527780003,10.774229865552432],[13.674624534771764,10.858865613490172],[13.694741317412813,10.966832072296778],[13.798741433812031,11.01314537125426],[13.818279342083983,11.05954069497939],[13.883568807102247,11.122292505254023],[13.87971692099548,11.146011342517607],[13.915059159555547,11.178059574633233],[13.980380155440297,11.30761053943417],[14.055732817765858,11.289801633255053],[14.09963905525555,11.251908291850548],[14.137170847489116,11.252654098499677],[14.209158959749542,11.283578923243498],[14.2403422680387,11.325951588551074],[14.29323588045141,11.35890394470566],[14.424033280765073,11.409376248446348],[14.451527657340005,11.458625849986529],[14.637239520129542,11.528797278098093],[14.640045228256417,11.637633506493975],[14.552477903518096,11.71772688318725],[14.610156122797095,11.780304155797282],[14.605243775497417,11.864522182657607],[14.64278329324242,11.90863534371404],[14.638969495703686,11.930066355867126],[14.658576125094893,11.957765793263121],[14.62302404008446,12.017862559433128],[14.623935830097839,12.042842161389263],[14.651760157876632,12.061239494005713],[14.640772863636554,12.092996858144364],[14.6782045835475,12.16546088777013],[14.658557979126154,12.195842157499694],[14.620015222871816,12.180584256426902],[14.601831524890676,12.189231213500411],[14.598315339205593,12.220322928151736],[14.549971693706944,12.232633926945978],[14.561593108706049,12.254644730921369],[14.550281612479967,12.276355167696781],[14.51529223216351,12.2924799064179],[14.519260450099567,12.324438471622368],[14.485957207571396,12.348829631930462],[14.331360920098636,12.369402287080055],[14.303649959708705,12.355537835971363],[14.296708228350672,12.36846673486124],[14.292141013783136,12.34916537529095],[14.280082748061341,12.367648496845916],[14.224785872769045,12.359235194275795],[14.173080551814143,12.40509835583641],[14.175763190747102,12.423721740157195],[14.19592767392976,12.428668410125162],[14.174788518663831,12.470826598710753],[14.196965317914428,12.515259199675265],[14.178865522580823,12.554120503699128],[14.085434983814569,13.078055982904656],[13.633331765938193,13.714385897378348],[13.353056948135254,13.717706948873477],[13.24360172234171,13.616341885043756],[13.264065075019356,13.593499076393082],[13.234083892243412,13.586836575739875],[13.242174029860662,13.56732491904953],[13.214572304609282,13.548289276686056],[13.200295559461818,13.513073191278496],[13.176976821822073,13.537343733990891],[13.156989396581924,13.514976773829762],[13.140333104078382,13.517356274313862],[13.144140254083997,13.551620523745772],[13.12320097396882,13.521163355800438],[13.104641241209718,13.539247297243849],[13.087984948706177,13.515928559405186],[13.063238608416894,13.527825864039139],[13.061810915935846,13.548289276686056],[13.008035068082592,13.51259733693818],[12.949024467574185,13.513073191278496],[12.921422742322806,13.485471459106675],[12.877640652005383,13.499748212056469],[12.876212959524333,13.470242937415152],[12.853370149322119,13.476429543067386],[12.857653136933722,13.43835812820265],[12.823864804152162,13.42741261490633],[12.829575484244812,13.402190303016612],[12.790552398808098,13.398383164136721],[12.791980001457603,13.375064424193294],[12.767233661168321,13.386485892844192],[12.736300623517314,13.340800180536228],[12.742487231047528,13.323668071197783],[12.712030120834017,13.31938502906262],[12.723927498288427,13.309391260734019],[12.685380160626156,13.31795736064368],[12.691090930550384,13.299873444010414],[12.669199885391656,13.273223510553729],[12.6463569853579,13.285596630192156],[12.648260605276478,13.304156481577602],[12.623990102593183,13.27560295516837],[12.590677607417609,13.283217196098942],[12.593057064942176,13.266560941632397],[12.582111542362828,13.270844042628408],[12.557365202073546,13.22420658068932],[12.559744659598113,13.158533391797146],[12.54451605957562,13.139973563371122],[12.517866099367758,13.14901554277497],[12.49597505420903,13.131407506451312],[12.497878674127609,13.086197779408932],[12.481698309061597,13.082866508222585],[12.475511701531383,13.056692431926297],[12.405555578443627,13.080487026245205],[12.367484168218887,13.073348705073805],[12.365104710694322,13.088577206264361],[12.33750298544294,13.0714450653747],[12.291817365038481,13.097619151239025],[12.2832512999837,13.078583529133025],[12.261836092430991,13.11284772703051],[12.20615671449067,13.122841500700765],[12.16047109408621,13.098571003106585],[12.037214960751223,13.147587925408041],[11.887901395969752,13.251621913824184],[11.689503794232484,13.29308484096883],[11.506171299136003,13.358592788776582],[11.144847961117028,13.382220045405846],[10.654782029165272,13.365969142753368],[10.476243393582482,13.29312584312108],[10.195466956524925,13.269331190768922],[10.002985120259689,13.172360105953233],[9.847657334651037,13.036346075533627],[9.797706692940626,12.957027068823026],[9.676721680306951,12.829126898114263],[9.621112909947989,12.807885662657169],[8.965685010663968,12.837802441745994],[8.646669447918109,12.943623153124888],[8.616601038728067,13.000872297537537],[8.546017711908938,13.056177790288439],[8.47606859568041,13.073748244411862],[8.418137680311997,13.057212498045903],[8.252448187227134,13.213506386370666],[8.203781238057749,13.224890434089916],[8.089744694146738,13.304097909737608],[7.834251520423745,13.340490146263303],[7.811225004745904,13.341702223296563],[7.432783729998838,13.114868806321054],[7.377364234670241,13.098782214153736],[7.225689537995994,13.129783299579312],[7.116345972792297,13.021111116599918],[7.063591060259433,13.002064350007586],[6.953459313225431,13.003910667714539],[6.900064081558068,13.038915278673153],[6.873969190364257,13.076569239735411],[6.844311760416699,13.079131724507494],[6.83904942948232,13.119874670247977],[6.693160601890047,13.336633433500676],[6.558631959212271,13.472658963210048],[6.568330350682692,13.504816878973102],[6.499997662976388,13.56541328471931],[6.484256394421245,13.551953165567015],[6.436078667755565,13.600922405837048],[6.278590793214747,13.676669928605136],[6.152729096398164,13.643466786579092],[5.8833724025584,13.736528319722394]]]]}}]},M={countryBoundaries:{id:"nigeria",type:"fill",source:"nationalBoundaries",layout:{},paint:{"fill-color":"#585858","fill-opacity":.7}},statesBoundaries:{id:"statesBoundaries",type:"fill",source:"statesBoundaries",layout:{},paint:{"fill-color":"#585858","fill-opacity":["match",["get","transparent"],"yes",0,"no",.7,0]}},lgasBoundaries:{id:"lgasBoundaries",type:"fill",source:"lgasBoundaries",layout:{},paint:{"fill-color":"#585858","fill-opacity":["match",["get","transparent"],"yes",0,"no",.7,0]}},clusters:{id:"clusters",type:"circle",source:"otherCamps",filter:["has","point_count"],paint:{"circle-color":["step",["get","point_count"],"#78b4ff",10,"#337fdd",30,"#286090"],"circle-radius":["step",["get","point_count"],10,10,15,30,20]}},clustersCount:{id:"cluster-count",type:"symbol",source:"otherCamps",filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":["Arial Unicode MS Bold"],"text-size":12},paint:{"text-color":"#ffffff"}},camps:{id:"camps",type:"symbol",source:"otherCamps",filter:["!",["has","point_count"]],layout:{"icon-image":["match",["get","site_type"],"Formal","default","Informal","spontaneous_site","default"],"icon-size":.025}},selectedCamp:{id:"camp",type:"symbol",source:"selectedCamp",layout:{"icon-image":["match",["get","site_type"],"Formal","default_selected","Informal","spontaneous_site_selected","default_selected"],"icon-size":.035}}};L.a.accessToken="pk.eyJ1IjoiY2FydG9uZyIsImEiOiJjazJldzVobGkwOWRxM2hzNTB1M3o2cG94In0.w7FyG31FWqXm3vXSh6WtxQ";var F=!1,P=F?"/markers/":"./markers/",$={name:"TheMap",components:{MarkersFilters:x},data:function(){return{imgURL:P,markersImagesList:["default","default_selected","spontaneous_site","spontaneous_site_selected"],imageLoadedCount:0,nigeriaBoundaries:I,countryBbox:null,stateBbox:null,lgaBbox:null}},mounted:function(){this.initMap()},computed:{showLoaders:function(){return this.$store.state.showLoaders},camps:function(){var t=this;return{selectedCamp:S(this.$store.state.camps.filter((function(e){return e.id==t.$store.state.selectedCamp}))),otherCamps:S(this.$store.state.filteredCamps.filter((function(e){return e.id!=t.$store.state.selectedCamp})))}},selectedCamp:function(){return this.$store.state.selectedCamp},statesBoundaries:function(){return this.$store.state.statesBoundaries},lgasBoundaries:function(){return this.$store.state.lgasBoundaries},filteredStates:function(){return this.$store.state.filteredStates},filteredLgas:function(){return this.$store.state.filteredLgas}},watch:{camps:function(){this.camps.otherCamps.features.length>0&&(this.map.getSource("otherCamps").setData(this.camps.otherCamps),this.map.getSource("selectedCamp").setData(this.camps.selectedCamp))},imageLoadedCount:function(){this.imageLoadedCount===this.markersImagesList.length&&this.addCampsSources()},selectedCamp:function(){null===this.selectedCamp||void 0===this.selectedCamp?this.setZoom():this.map.flyTo({center:[this.camps.selectedCamp.features[0].geometry.coordinates[0],this.camps.selectedCamp.features[0].geometry.coordinates[1]],zoom:11})},filteredStates:function(){this.classifyBoundaries("state",this.filteredStates),this.setZoom()},filteredLgas:function(){this.classifyBoundaries("lga",this.filteredLgas),this.setZoom()}},methods:{initMap:function(){var t=this;this.map=new L.a.Map({container:"map",style:"mapbox://styles/mapbox/streets-v11",center:[7.5,9],zoom:4.7,minZoom:4.7}),this.map.on("load",Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.markersImagesList.map((function(e){t.map.loadImage("".concat(P).concat(e,".png"),(function(a,s){if(t.imageLoadedCount++,t.map.addImage(e,s),a)throw a}))})),null==t.countryBbox&&(t.countryBbox=t.map.getBounds()),t.map.addSource("nationalBoundaries",{type:"geojson",data:t.nigeriaBoundaries}),t.map.addLayer(M.countryBoundaries),t.map.addSource("statesBoundaries",{type:"geojson",data:t.statesBoundaries}),t.map.addLayer(M.statesBoundaries),t.map.addSource("lgasBoundaries",{type:"geojson",data:t.lgasBoundaries}),t.map.addLayer(M.lgasBoundaries);case 8:case"end":return e.stop()}}),e)}))))},addCampsSources:function(){this.map.addSource("otherCamps",{type:"geojson",data:this.camps.otherCamps,cluster:!0,clusterMaxZoom:14,clusterRadius:50}),this.map.addSource("selectedCamp",{type:"geojson",data:this.camps.selectedCamp}),this.map.once("style.load",this.addCampsLayer())},addCampsLayer:function(){var t=this;this.map.addLayer(M.clusters),this.map.addLayer(M.clustersCount),this.map.on("click","clusters",(function(e){var a=t.map.queryRenderedFeatures(e.point,{layers:["clusters"]}),s=a[0].properties.cluster_id;t.map.getSource("otherCamps").getClusterExpansionZoom(s,(function(e,s){e||t.map.easeTo({center:a[0].geometry.coordinates,zoom:s})}))})),this.map.addLayer(M.camps),this.map.on("click","camps",(function(e){t.$store.commit("setSelectedCamp",e.features[0].properties.id)}));var e=new L.a.Popup({closeButton:!1,closeOnClick:!1});this.map.on("mouseenter","camps",(function(a){t.map.getCanvas().style.cursor="pointer";var s=a.features[0].geometry.coordinates.slice(),r='<h4 class="primary--text">'.concat(a.features[0].properties.name,"</h4>");e.setLngLat(s).setHTML(r).addTo(t.map)})),this.map.on("mouseleave","camps",(function(){t.map.getCanvas().style.cursor="",e.remove()})),this.map.on("mouseenter","camp",(function(a){t.map.getCanvas().style.cursor="pointer";var s=a.features[0].geometry.coordinates.slice(),r='<h4 class="primary--text">'.concat(a.features[0].properties.name,"</h4>");e.setLngLat(s).setHTML(r).addTo(t.map)})),this.map.on("mouseleave","camp",(function(){t.map.getCanvas().style.cursor="",e.remove()})),this.map.addLayer(M.selectedCamp)},setZoom:function(){this.map.fitBounds(this.lgaBbox||this.stateBbox||this.countryBbox)},classifyBoundaries:function(t,e){var a,s,r;if("lga"===t?(a="lgaBbox",s="lgasBoundaries",r="dscodeadm2"):"state"===t&&(a="stateBbox",s="statesBoundaries",r="dscodeadm1"),1===e.length){var n,i=Object(u["a"])(this[s].features);try{for(i.s();!(n=i.n()).done;){var o=n.value;o.properties[r]===e[0].id?(o.properties.transparent="yes",this[a]=D(o.geometry.coordinates)):o.properties.transparent="no"}}catch(c){i.e(c)}finally{i.f()}}else this[s].features.map((function(t){return t.properties.transparent="yes"})),this[a]=null;this.map.getSource(s).setData(this[s])}}},O=$,B=(a("aa1f"),Object(y["a"])(O,l,d,!1,null,"294c021e",null)),E=B.exports,A=!1,z=A?"/img/":"./img/",R={name:"Header",components:{TheMap:E},data:function(){return{imgUrl:z,selectedState:null,selectedLga:null}},computed:{datasetLoaded:function(){return this.$store.state.datasetLoaded},states:function(){return this.$store.state.filteredStates},lgas:function(){return this.$store.state.filteredLgas},camps:function(){return this.$store.state.filteredCamps},selectedCamp:{get:function(){return this.$store.state.selectedCamp},set:function(t){this.$store.commit("setSelectedCamp",t)}}},watch:{selectedState:function(){void 0===this.selectedState?this.$store.commit("filterStates"):this.$store.commit("filterStates",this.selectedState),this.$store.commit("filterLgas"),this.$store.commit("filterCamps")},selectedLga:function(){void 0===this.selectedLga?this.$store.commit("filterLgas"):this.$store.commit("filterLgas",this.selectedLga),this.$store.commit("filterCamps")}}},T=R,N=(a("f41b"),a("c6a6")),q=a("b974"),U=Object(y["a"])(T,o,c,!1,null,"3f128644",null),G=U.exports;C()(U,{VAutocomplete:N["a"],VSelect:q["a"]});var H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex justify-space-around"},[a("a",{attrs:{href:"https://www.acted.org",target:"_blank"}},[a("img",{staticClass:"partnerLogo",attrs:{src:t.imgUrl+"ACTED.jpg",alt:""}})]),a("a",{attrs:{href:"https://www.intersos.org",target:"_blank"}},[a("img",{staticClass:"partnerLogo",attrs:{src:t.imgUrl+"INTERSOS.png",alt:""}})]),a("a",{attrs:{href:"https://www.iom.int/",target:"_blank"}},[a("img",{staticClass:"partnerLogo",attrs:{src:t.imgUrl+"IOM.jpg",alt:""}})]),a("a",{attrs:{href:"https://loc-din.org.ng/",target:"_blank"}},[a("img",{staticClass:"partnerLogo",attrs:{src:t.imgUrl+"LOC-DIN.jpg",alt:""}})]),a("a",{attrs:{href:"https://www.nrc.no",target:"_blank"}},[a("img",{staticClass:"partnerLogo",attrs:{src:t.imgUrl+"NRC.png",alt:""}})]),a("a",{attrs:{href:"http://www.salientho.org/",target:"_blank"}},[a("img",{staticClass:"partnerLogo",attrs:{src:t.imgUrl+"SALINT_HUMANITARIANORGANIZATON.png",alt:""}})]),a("a",{attrs:{href:"https://www.smilingheartsinitiativeinternational.org/",target:"_blank"}},[a("img",{staticClass:"partnerLogo",attrs:{src:t.imgUrl+"SMILING_HEARTS_INTERNATIONAL.jpg",alt:""}})]),a("a",{attrs:{href:"https://translatorswithoutborders.org/",target:"_blank"}},[a("img",{staticClass:"partnerLogo",attrs:{src:t.imgUrl+"TRANSLATORS_WITHOUT_BOARDERS.png",alt:""}})]),a("a",{attrs:{href:"https://www.unhcr.org/",target:"_blank"}},[a("img",{staticClass:"partnerLogo",attrs:{src:t.imgUrl+"UNHCR.jpg",alt:""}})])])},V=[],W=!1,J=W?"/img/":"./img/",Z={name:"Footer",data:function(){return{imgUrl:J}}},X=Z,Q=(a("ffc4"),Object(y["a"])(X,H,V,!1,null,"6a45a923",null)),Y=Q.exports,K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"traffic-lights-infos"},[a("v-speed-dial",{attrs:{top:"",left:"",direction:"left","open-on-hover":"",transition:"slide-y-reverse-transition"},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-btn",{attrs:{color:"primary",dark:"",fab:""}},[a("v-icon",[t._v(" mdi-traffic-light ")])],1)]},proxy:!0}])},[a("div",{staticClass:"d-flex align-center traffic-lights-infos-content"},[a("span",{staticClass:"square mr-2 ml-5",staticStyle:{"background-color":"#DA5A56"}}),a("span",{staticClass:"caption"},[t._v("Severity")]),a("span",{staticClass:"square mr-2 ml-5",staticStyle:{"background-color":"#FFA90A"}}),a("span",{staticClass:"caption"},[t._v("Minimal Severity")]),a("span",{staticClass:"square mr-2 ml-5",staticStyle:{"background-color":"#ffeb0a"}}),a("span",{staticClass:"caption"},[t._v("Services available but not adequate/Optimum")]),a("span",{staticClass:"square mr-2 ml-5",staticStyle:{"background-color":"#62BB62"}}),a("span",{staticClass:"caption"},[t._v("Services are available")])])])],1),t._l(t.selectedSubmission,(function(e){return a("div",{key:e.name,staticClass:"mb-3 category-container mt-2"},[a("div",{staticClass:"d-flex align-center full-width mb-2 "},[a("img",{staticClass:"category-icon ml-4",attrs:{src:e.icon,alt:""}}),a("h1",{staticClass:"ml-3 secondary--text"},[t._v(t._s(e.name))]),a("div",{staticClass:"flex-grow-1"}),"General"==e.name?a("div",{},[a("v-tooltip",{attrs:{top:"",color:"red"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({staticClass:"mr-4 ml-1",attrs:{elevation:"2",icon:"",color:"red"},on:{click:function(e){t.showPDF=!0}}},s),[a("v-icon",[t._v("mdi-adobe-acrobat")])],1)]}}],null,!0)},[a("span",[t._v("Export PDF")])]),a("v-tooltip",{attrs:{right:"",color:"primary"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({staticClass:"ma-2",attrs:{outlined:"",small:"",fab:"",color:"primary"},on:{click:function(e){t.selectedCamp=null}}},s),[a("v-icon",[t._v("mdi-close")])],1)]}}],null,!0)},[a("span",[t._v("Clear")])])],1):t._e()]),"Demographic Distribution"==e.name&&e.data["age_pyramid#1"]?a("AgePyramidChart",{attrs:{id:e.data["age_pyramid#1"][0].value+Math.floor(Math.random()*Math.floor(1e5)),surveyData:e.data["age_pyramid#1"]}}):t._e(),"Demographic Distribution"==e.name&&e.data["doughnut_chart#2"]?a("DoughnutChart",{attrs:{id:e.data["doughnut_chart#2"][0].value+Math.floor(Math.random()*Math.floor(1e5)),surveyData:e.data["doughnut_chart#2"]}}):t._e(),t._l(e.data,(function(e,s){return a("div",{key:e.question+"+"+s,staticClass:"d-flex align-center full-width ml-8"},[null!=e.tl?a("span",{staticClass:"square mr-2",style:{"background-color":e.tl}}):t._e(),a("span",{staticClass:"subtitle-1"},[t._v(t._s(e.question))]),a("span",{staticClass:"subtitle-2 secondary--text ml-2"},[t._v(t._s(e.answer))])])})),"Shelter - NFI"==e.name&&e.data["polar_area_chart#3"]?a("PolarChart",{attrs:{id:e.data["polar_area_chart#3"][0].value+Math.floor(Math.random()*Math.floor(1e5)),surveyData:e.data["polar_area_chart#3"]}}):t._e()],2)})),t.showPDF?a("ExportPDF",{attrs:{dataset:t.selectedSubmission}}):t._e()],2)},tt=[],et=(a("a15b"),a("ac1f"),a("1276"),a("c772")),at=[{csv_name:"general_info",app_name:"General",icon:"",column:1},{csv_name:"demographic_distribution",app_name:"Demographic Distribution",icon:"People.png",column:2},{csv_name:"cccm",app_name:"CCCM",icon:"CCCM.png",column:1},{csv_name:"livelihood",app_name:"Livelihood",icon:"Livelihood.png",column:2},{csv_name:"education",app_name:"Education",icon:"Education.png",column:1},{csv_name:"food_security",app_name:"Food Security",icon:"Food-Security.png",column:2},{csv_name:"health",app_name:"Health",icon:"Health.png",column:1},{csv_name:"nutrition",app_name:"Nutrition",icon:"Nutrition.png",column:2},{csv_name:"protection",app_name:"Protection",icon:"Protection.png",column:1},{csv_name:"shelter_nfi",app_name:"Shelter - NFI",icon:"Shelter.png",column:2},{csv_name:"wash",app_name:"Water, sanitation and hygiene",icon:"Wash.png",column:1}],st=function(t,e){var a="#62BB62",s="#ffeb0a",r="#FFA90A",n="#DA5A56",i="#9D9D9D";if("yesno"==t)return"yes"==e?a:"no"==e?n:i;if("noyes"==t)return"yes"==e?n:"no"==e?a:i;if("dedicatedSfVsPopulation"==t)return e<=2500?a:e>2500?n:i;if("mobileSfVsPopulation"==t)return e<=500?a:e>500?n:i;if("PartnerPresenceLivelihood"==t||"PartnerPresenceEducation"==t||"PartnerPresenceFoodSecurity"==t||"PartnerPresenceHealth"==t||"PartnerPresenceNutrition"==t||"PartnerPresenceProtection"==t||"PartnerPresenceShelter"==t)return"none"==e.toLowerCase()?n:a;if("DistanceToX"==t){var o=parseInt(e.substring(e.length-1));return o<5?a:o<10?r:o>10?n:i}return"TotalMalnutrition"==t||"NumberFemaleChildwithDisability"==t||"NumberMaleChildwithDisability"==t||"NumberFemaleAdultswithDisability"==t||"NumberMaleAdultswithDisability"==t||"NumberHHLivingOutside"==t||"NumberHHSharingShelter"==t||"NumberTransitionaldamagedShelters"==t?parseInt(e)>=1?n:a:"nfidistrange"==t?"within_1month"==e?a:"within_2month"==e?s:"within_3month"==e?r:n:"NumberLitresppPerday"==t?parseInt(e)>=15?a:n:"WaterWaitingTime"==t?"time1"==e?a:"time2"==e?s:"time3"==e?r:n:"TotalLatrinesVsIndidual"==t||"TotalShowersVsIndidual"==t?parseInt(e)<=20?a:parseInt(e)<=25?s:n:null},rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"age-pyramid-chart-container"},[a("div",{staticClass:"chart-container"},[a("canvas",{ref:"chartCanvas",attrs:{id:t.id}})])])},nt=[],it=a("5530"),ot=a("30ef"),ct=a.n(ot),lt=(a("a9e3"),{type:"horizontalBar",data:{},options:{responsive:!0,maintainAspectRatio:!1,legend:{position:"top",reverse:!0},title:{display:!0,fontSize:14,text:"Age Pyramid"},scales:{xAxes:[{ticks:{callback:function(t){return t<0?0-t:t}}}],yAxes:[{stacked:!0,barThickness:15}]},tooltips:{callbacks:{obj:function(t,e){return e.datasets[t[0].datasetIndex].label+": "+e.labels[t[0].index]},label:function(t,e){return 1===t.datasetIndex?Number(0-e.datasets[1].data[t.index]):e.datasets[0].data[t.index]}}}}}),dt={name:"AgePyramidChart",props:{id:{type:String,required:!0},surveyData:{type:Array,required:!0}},data:function(){return{males:["Males 0-5 years:","Males 6-17 years:","Males 18-35 years:","Males 36-59 years:","Males 60 or older:"],females:["Females 0-5 years:","Females 6-17 year:","Females 18-35 years:","Females 36-59 years:","Females 60 or older:"],labels:["60 or older","36-59 years","18-35 years","6-17 years","0-5 years"]}},computed:{chartDatasets:function(){var t=this,e=[],a=[];return this.males.map((function(a){var s,r=Object(u["a"])(t.surveyData);try{for(r.s();!(s=r.n()).done;){var n=s.value;n.label==a&&e.push(0-parseInt(n.value))}}catch(i){r.e(i)}finally{r.f()}})),this.females.map((function(e){var s,r=Object(u["a"])(t.surveyData);try{for(r.s();!(s=r.n()).done;){var n=s.value;n.label==e&&a.push(parseInt(n.value))}}catch(i){r.e(i)}finally{r.f()}})),[{label:"Female",backgroundColor:"#f37788",data:a.reverse()},{label:"Male",backgroundColor:"#4095cd",data:e.reverse()}]}},methods:{buildChart:function(){var t=this;void 0!=this.chart&&this.chart.destroy();for(var e=[],a=0;a<this.labels.length;a++)e.push("".concat(this.labels[a],": ").concat(-1*parseInt(this.chartDatasets[1].data[a])||0," males - ").concat(this.chartDatasets[0].data[a]||0," females"));var s={datasets:this.chartDatasets,labels:e},r=Object(it["a"])(Object(it["a"])({},lt),{data:s}),n=this.$refs.chartCanvas.getContext("2d");n.height=500,this.chart=new ct.a(n,r),window.addEventListener("resize",(function(){t.chart.destroy(),t.chart=new ct.a(n,r)}))}},mounted:function(){this.buildChart()},updated:function(){this.buildChart()}},ut=dt,mt=(a("0e5b"),Object(y["a"])(ut,rt,nt,!1,null,"170790e4",null)),ft=mt.exports,pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"age-pyramid-chart-container"},[a("div",{staticClass:"chart-container"},[a("canvas",{ref:"chartCanvas",attrs:{id:t.id}})])])},ht=[],gt=(a("4160"),a("159b"),{type:"doughnut",data:{},options:{responsive:!0,maintainAspectRatio:!1,legend:{position:"left",reverse:!0},title:{display:!0,fontSize:14,text:"Specific Groups"}}}),vt={name:"DoughnutChart",props:{id:{type:String,required:!0},surveyData:{type:Array,required:!0}},computed:{chartDatasets:function(){var t=["#FF335C","#12BFCE","#c6ecae","#642b50","#8b9376","#b2916c"],e=[{data:[],backgroundColor:[]}];return this.surveyData.forEach((function(a,s){e[0].data.push(parseInt(a.value)),e[0].backgroundColor.push(t[s])})),e},labels:function(){var t,e=[],a=Object(u["a"])(this.surveyData);try{for(a.s();!(t=a.n()).done;){var s=t.value;e.push("".concat(s.label," ").concat(s.value))}}catch(r){a.e(r)}finally{a.f()}return e}},methods:{buildChart:function(){var t=this;void 0!=this.chart&&this.chart.destroy();var e={datasets:this.chartDatasets,labels:this.labels},a=Object(it["a"])(Object(it["a"])({},gt),{data:e}),s=this.$refs.chartCanvas.getContext("2d");s.height=500,this.chart=new ct.a(s,a),window.addEventListener("resize",(function(){t.chart.destroy(),t.chart=new ct.a(s,a)}))}},mounted:function(){this.buildChart()},updated:function(){this.buildChart()}},bt=vt,yt=(a("4049"),Object(y["a"])(bt,pt,ht,!1,null,"767580a4",null)),_t=yt.exports,Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"age-pyramid-chart-container"},[a("div",{staticClass:"chart-container"},[a("canvas",{ref:"chartCanvas",attrs:{id:t.id}})])])},jt=[],wt={type:"polarArea",data:{},options:{responsive:!0,maintainAspectRatio:!1,legend:{position:"left",reverse:!0},title:{display:!0,fontSize:14,text:"Repartition"},scale:{ticks:{beginAtZero:!0},reverse:!1},animation:{animateRotate:!1,animateScale:!0}}},xt={name:"PolarChart",props:{id:{type:String,required:!0},surveyData:{type:Array,required:!0}},computed:{chartDatasets:function(){var t=["rgba(255, 51, 92, 0.5)","rgba(18, 191, 206, 0.5)","rgba(198, 236, 174, 0.5)","#642b50","#8b9376","#b2916c"],e=[{data:[],backgroundColor:[]}];return this.surveyData.forEach((function(a,s){e[0].data.push(parseInt(a.value)),e[0].backgroundColor.push(t[s])})),e},labels:function(){var t,e=[],a=Object(u["a"])(this.surveyData);try{for(a.s();!(t=a.n()).done;){var s=t.value;e.push("".concat(s.label," ").concat(s.value))}}catch(r){a.e(r)}finally{a.f()}return e}},methods:{buildChart:function(){var t=this;void 0!=this.chart&&this.chart.destroy();var e={datasets:this.chartDatasets,labels:this.labels},a=Object(it["a"])(Object(it["a"])({},wt),{data:e}),s=this.$refs.chartCanvas.getContext("2d");this.chart=new ct.a(s,a),window.addEventListener("resize",(function(){t.chart.destroy(),t.chart=new ct.a(s,a)}))}},mounted:function(){this.buildChart()},updated:function(){this.buildChart()}},kt=xt,Lt=(a("ab85"),Object(y["a"])(kt,Ct,jt,!1,null,"cc6074da",null)),St=Lt.exports,Dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{ref:"pdfDiv1",staticClass:"pdf-container pb-8"},[t._m(0),a("div",{staticClass:"pdf-content pb-8"},t._l(t.dataset,(function(e){return a("div",{key:e.name,staticClass:"category-container"},["General"===e.name?a("div",{staticClass:"d-flex category-container"},[a("div",{staticClass:"pdf-map-container"}),a("div",{ref:"infoBox",refInFor:!0,staticClass:"pdf-general-info"},[t._m(1,!0),a("v-simple-table",{attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[a("tbody",t._l(e.data,(function(e){return a("tr",{key:e.question+"+"+e.answer},[a("td",[t._v(t._s(e.question))]),a("td",[t._v(t._s(e.answer))])])})),0)]},proxy:!0}],null,!0)})],1)]):"Demographic Distribution"===e.name?a("div",{staticClass:"d-flex flex-wrap category-container mt-8"},[a("div",{staticClass:"pdf-category-header"},[a("h3",[t._v(t._s(e.name))])]),"Demographic Distribution"==e.name&&e.data["age_pyramid#1"]?a("AgePyramidChart",{staticClass:"category-container",attrs:{id:e.data["age_pyramid#1"][0].value+Math.floor(Math.random()*Math.floor(1e5)),surveyData:e.data["age_pyramid#1"]}}):t._e(),"Demographic Distribution"==e.name&&e.data["doughnut_chart#2"]?a("DoughnutChart",{staticClass:"category-container",attrs:{id:e.data["doughnut_chart#2"][0].value+Math.floor(Math.random()*Math.floor(1e5)),surveyData:e.data["doughnut_chart#2"]}}):t._e(),a("v-simple-table",{attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[a("tbody",t._l(e.data,(function(e){return a("tr",{key:e.question+"+"+e.answer},[a("td",[t._v(t._s(e.question))]),a("td",[t._v(t._s(e.answer))])])})),0)]},proxy:!0}],null,!0)})],1):"CCCM"===e.name||"Livelihood"===e.name?a("div",{staticClass:"d-flex flex-wrap category-container mt-8"},[a("div",{staticClass:"pdf-category-header"},[a("h3",[t._v(t._s(e.name))])]),a("v-simple-table",{attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[a("tbody",t._l(e.data,(function(e){return a("tr",{key:e.question+"+"+e.answer},[a("td",[t._v(t._s(e.question))]),a("td",[t._v(t._s(e.answer))])])})),0)]},proxy:!0}],null,!0)})],1):t._e()])})),0)]),a("div",{ref:"pdfDiv2",staticClass:"pdf-container pb-8"},[a("div",{staticClass:"pdf-content"},t._l(t.dataset,(function(e){return a("div",{key:e.name,staticClass:"category-container"},["Education"===e.name||"Food Security"===e.name||"Health"===e.name||"Nutrition"===e.name?a("div",{staticClass:"d-flex flex-wrap category-container mt-8"},[a("div",{staticClass:"pdf-category-header"},[a("h3",[t._v(t._s(e.name))])]),a("v-simple-table",{attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[a("tbody",t._l(e.data,(function(e){return a("tr",{key:e.question+"+"+e.answer},[a("td",[t._v(t._s(e.question))]),a("td",[t._v(t._s(e.answer))])])})),0)]},proxy:!0}],null,!0)})],1):t._e()])})),0)]),a("div",{ref:"pdfDiv3",staticClass:"pdf-container pb-8"},[a("div",{staticClass:"pdf-content"},t._l(t.dataset,(function(e){return a("div",{key:e.name,staticClass:"category-container"},["Protection"===e.name||"Shelter - NFI"===e.name?a("div",{staticClass:"d-flex flex-wrap category-container mt-4"},[a("div",{staticClass:"pdf-category-header"},[a("h3",[t._v(t._s(e.name))])]),"Shelter - NFI"==e.name&&e.data["polar_area_chart#3"]?a("PolarChart",{staticClass:"category-container",attrs:{id:e.data["polar_area_chart#3"][0].value+Math.floor(Math.random()*Math.floor(1e5)),surveyData:e.data["polar_area_chart#3"]}}):t._e(),a("v-simple-table",{attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[a("tbody",t._l(e.data,(function(e){return a("tr",{key:e.question+"+"+e.answer},[a("td",[t._v(t._s(e.question))]),a("td",[t._v(t._s(e.answer))])])})),0)]},proxy:!0}],null,!0)})],1):t._e()])})),0)]),a("div",{ref:"pdfDiv4",staticClass:"pdf-container pb-8"},[a("div",{staticClass:"pdf-content"},t._l(t.dataset,(function(e){return a("div",{key:e.name,staticClass:"category-container"},["Water, sanitation and hygiene"===e.name?a("div",{staticClass:"d-flex flex-wrap category-container mt-4"},[a("div",{staticClass:"pdf-category-header"},[a("h3",[t._v(t._s(e.name))])]),a("v-simple-table",{attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[a("tbody",t._l(e.data,(function(e){return a("tr",{key:e.question+"+"+e.answer},[a("td",[t._v(t._s(e.question))]),a("td",[t._v(t._s(e.answer))])])})),0)]},proxy:!0}],null,!0)})],1):t._e()])})),0)]),a("div",{staticClass:"mt-4",style:{height:t.mapHeight,width:t.mapWidth},attrs:{id:"pdfmap"}}),a("img",{staticClass:"pdfLogo",attrs:{src:t.imgURL+"img/sector_logo.png",alt:"",id:"pdfLogo"}}),a("div",{ref:"pdfDiv5"},[a("Footer")],1)])},It=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pdf-header pr-5"},[a("h2",{staticClass:"secondary--text mr-5"},[t._v("CCCM Site Tracker")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pdf-category-header"},[a("h3",[t._v("General Information")])])}],Mt=a("8baf"),Ft=a("70b0"),Pt=a.n(Ft);L.a.accessToken="pk.eyJ1IjoiY2FydG9uZyIsImEiOiJjazJldzVobGkwOWRxM2hzNTB1M3o2cG94In0.w7FyG31FWqXm3vXSh6WtxQ";var $t=!1,Ot=$t?"/":"./",Bt={name:"ExportPDF",components:{AgePyramidChart:ft,DoughnutChart:_t,PolarChart:St,Footer:Y},mounted:function(){this.showLoaders=!0,this.mapHeight="".concat(this.$refs.infoBox[0].clientHeight,"px"),this.mapWidth="".concat(this.$refs.pdfDiv1.clientWidth-this.$refs.infoBox[0].clientWidth,"px"),this.initMap()},data:function(){return{imgURL:Ot,mapHeight:"7cm",mapWidth:"7cm",images:{},imagesLoadedCount:0}},props:["dataset"],computed:{showLoaders:{get:function(){return this.$store.state.showLoaders},set:function(t){this.$store.commit("setShowLoaders",t)}},showPDF:{get:function(){return this.$store.state.showPDF},set:function(t){this.$store.commit("setShowPDF",t)}},camp:function(){var t=this;return S(this.$store.state.camps.filter((function(e){return e.id==t.$store.state.selectedCamp})))}},watch:{imagesLoadedCount:function(){6===this.imagesLoadedCount&&this.ExportPDF()}},methods:{initMap:function(){var t=this;this.map=new L.a.Map({container:"pdfmap",style:"mapbox://styles/mapbox/streets-v11",center:[this.camp.features[0].geometry.coordinates[0],this.camp.features[0].geometry.coordinates[1]],zoom:7,preserveDrawingBuffer:!0}),this.map.on("load",Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.map.resize(),t.map.loadImage("".concat(t.imgURL,"markers/default.png"),(function(e,a){if(t.map.addImage("default",a),e)throw e})),t.map.addSource("camp",{type:"geojson",data:t.camp}),t.map.addLayer({id:"camp",type:"symbol",source:"camp",layout:{"icon-image":"default","icon-size":.025}}),t.map.once("style.load",t.generateImage());case 5:case"end":return e.stop()}}),e)}))))},generateImage:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a,s,r,n,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new Image,e.next=3,Pt.a.toPng(t.$refs.pdfDiv1);case 3:return a.src=e.sent,a.onload=function(){t.images.part1=a,t.imagesLoadedCount++},s=new Image,e.next=8,Pt.a.toPng(t.$refs.pdfDiv2);case 8:return s.src=e.sent,s.onload=function(){t.images.part2=s,t.imagesLoadedCount++},r=new Image,e.next=13,Pt.a.toPng(t.$refs.pdfDiv3);case 13:return r.src=e.sent,r.onload=function(){t.images.part3=r,t.imagesLoadedCount++},n=new Image,e.next=18,Pt.a.toPng(t.$refs.pdfDiv4);case 18:return n.src=e.sent,n.onload=function(){t.images.part4=n,t.imagesLoadedCount++},i=new Image,e.next=23,Pt.a.toPng(t.$refs.pdfDiv5);case 23:return i.src=e.sent,i.onload=function(){t.images.footerImg=i,t.imagesLoadedCount++},o=new Image,e.next=28,t.map.getCanvas().toDataURL("image/png");case 28:o.src=e.sent,o.onload=function(){var e=t.images.part1.width/210;o.width=o.width/e,o.height=o.height/e,t.images.mapImg=o,t.imagesLoadedCount++};case 30:case"end":return e.stop()}}),e)})))()},ExportPDF:function(){var t=document.getElementById("pdfLogo").width/document.getElementById("pdfLogo").height,e=this.images.part1.width/210,a=210/this.images.footerImg.width,s=new Mt["a"];s.addImage(this.images.part1,"JPEG",0,0,this.images.part1.width/e,this.images.part1.height/e),s.addImage("".concat(this.imgURL,"img/sector_logo.png"),5,2,7.5*t,7.5),s.addImage(this.images.mapImg,"PNG",1,10,this.images.mapImg.width,this.images.mapImg.height),s.addPage(),s.addImage(this.images.part2,"JPEG",0,0,this.images.part2.width/e,this.images.part2.height/e),s.addPage(),s.addImage(this.images.part3,"JPEG",0,0,this.images.part3.width/e,this.images.part3.height/e),s.addPage(),s.addImage(this.images.part4,"JPEG",0,0,this.images.part4.width/e,this.images.part4.height/e),s.addImage(this.images.footerImg,"JPEG",0,295-this.images.footerImg.height*a,this.images.footerImg.width*a,this.images.footerImg.height*a),this.showPDF=!1,this.showLoaders=!1,s.save()}}},Et=Bt,At=(a("fed2"),a("1f4f")),zt=Object(y["a"])(Et,Dt,It,!1,null,"e221c598",null),Rt=zt.exports;C()(zt,{VSimpleTable:At["a"]});var Tt=!1,Nt={name:"SurveyViewer",components:{AgePyramidChart:ft,DoughnutChart:_t,PolarChart:St,ExportPDF:Rt},computed:{selectedCamp:{get:function(){return this.$store.state.selectedCamp},set:function(t){this.$store.commit("setSelectedCamp",t)}},submissions:function(){return this.$store.state.submissions},surveyConfig:function(){return this.$store.state.surveyConfig},labels:function(){return this.$store.state.labels},selectedSubmission:function(){var t=this,e={};if(at.map((function(t){e[t.csv_name]={data:[],name:t.app_name,icon:Tt?"/icons/".concat(t.icon):"./icons/".concat(t.icon)}})),null!=this.selectedCamp)for(var a in this.submissions)if(a==this.selectedCamp)for(var s in this.surveyConfig)Object(et["a"])(this.surveyConfig[s],this.submissions[a])&&this.submissions[a][s]&&(this.surveyConfig[s].chart?e[this.surveyConfig[s].category_name].data[this.surveyConfig[s].chart]?e[this.surveyConfig[s].category_name].data[this.surveyConfig[s].chart].push({label:this.surveyConfig[s].alias,value:this.submissions[a][s]}):e[this.surveyConfig[s].category_name].data[this.surveyConfig[s].chart]=[{label:this.surveyConfig[s].alias,value:this.submissions[a][s]}]:e[this.surveyConfig[s].category_name].data.push({field:this.surveyConfig[s].csv_field,question:this.surveyConfig[s].alias,answer:"yes"==this.surveyConfig[s].multiple?this.submissions[a][s].split(" ").map((function(e){return t.getLabel(e)})).join(", "):this.getLabel(this.submissions[a][s]),tl:""!=this.surveyConfig[s].traffic_light?st(this.surveyConfig[s].traffic_light,this.submissions[a][s]):null}));return e},showPDF:{get:function(){return this.$store.state.showPDF},set:function(){this.$store.commit("setShowPDF",!0)}}},methods:{getLabel:function(t){var e,a=Object(u["a"])(this.labels);try{for(a.s();!(e=a.n()).done;){var s=e.value;if(s.name==t)return s.label}}catch(r){a.e(r)}finally{a.f()}return t}}},qt=Nt,Ut=(a("324c"),a("8336")),Gt=a("132d"),Ht=a("c73b"),Vt=a("3a2f"),Wt=Object(y["a"])(qt,K,tt,!1,null,"3c517057",null),Jt=Wt.exports;C()(Wt,{VBtn:Ut["a"],VIcon:Gt["a"],VSpeedDial:Ht["a"],VTooltip:Vt["a"]});var Zt={name:"App",components:{ClipLoader:i["a"],Header:G,SurveyViewer:Jt,Footer:Y},data:function(){return{loadingColor:"#286090"}},computed:{showLoaders:function(){return this.$store.state.showLoaders},dataError:function(){return this.$store.state.dataError},selectedCamp:function(){return this.$store.state.selectedCamp}},mounted:function(){this.$store.dispatch("getData")}},Xt=Zt,Qt=(a("034f"),a("7496")),Yt=a("a523"),Kt=a("169a"),te=a("a722"),ee=Object(y["a"])(Xt,r,n,!1,null,null,null),ae=ee.exports;C()(ee,{VApp:Qt["a"],VContainer:Yt["a"],VDialog:Kt["a"],VLayout:te["a"]});a("7db0"),a("13d5"),a("45fc"),a("d3b7");var se=a("2f62"),re=a("bc3a"),ne=a("369b");s["a"].use(se["a"]);var ie=new se["a"].Store({state:{showLoaders:!0,datasetLoaded:!1,dataError:!1,raisedError:null,submissions:{},states:[],lgas:[],camps:[],statesBoundaries:{},lgasBoundaries:{},filteredStates:[],filteredLgas:[],filteredCamps:[],showFormalCamps:!0,showInformalCamps:!0,surveyConfig:{},labels:[],selectedCamp:null,showPDF:!1},mutations:{setShowLoaders:function(t,e){t.showLoaders=e},setDataLoadingError:function(t,e){t.dataError=!0,t.raisedError=e},filterStates:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t.filteredStates=null===e?t.states:t.states.filter((function(t){return t.id===e}))},filterLgas:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t.filteredLgas=null===e?t.lgas.filter((function(e){return t.filteredStates.some((function(t){return t.id===e.state}))})):t.lgas.filter((function(t){return t.id===e}))},filterCamps:function(t){var e=t.camps;t.showFormalCamps||(e=e.filter((function(t){return"Formal"!==t.site_type}))),t.showInformalCamps||(e=e.filter((function(t){return"Informal"!==t.site_type}))),t.filteredCamps=e.filter((function(e){return t.filteredLgas.some((function(t){return t.id===e.lga}))}))},setSelectedCamp:function(t,e){t.selectedCamp=e},togglFormalCamps:function(t,e){t.showFormalCamps=e},togglInformalCamps:function(t,e){t.showInformalCamps=e},setShowPDF:function(t,e){t.showPDF=e}},actions:{getData:function(t){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function a(){var s,r,n,i,o,c,l,d,m,f,p,h,g,v,b,y,_;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,s={},a.next=4,re["get"]("./data/survey_config_j.csv");case 4:return r=a.sent,ne["parse"](r.data,{header:!0,complete:function(t){var a,r=Object(u["a"])(t.data);try{for(r.s();!(a=r.n()).done;){var n=a.value;void 0!=n.csv_field&&(0===n.category.length?s["".concat(n.csv_field.toLowerCase())]=Object(it["a"])({},n):s["".concat(n.category.toLowerCase(),"/").concat(n.csv_field.toLowerCase())]=Object(it["a"])({},n))}}catch(i){r.e(i)}finally{r.f()}e.state.surveyConfig=s},error:function(t){console.log(t)}}),a.next=8,re["get"]("./data/labels.csv");case 8:return n=a.sent,ne["parse"](n.data,{header:!0,complete:function(t){t.data.pop(),e.state.labels=t.data},error:function(t){console.log(t)}}),i="https://kobo.humanitarianresponse.info/api/v2/assets/aJ7uW4DUnpfsn6kRjvQWFq/data.json",o={method:"get",url:i,headers:{Authorization:"Token ab46c724b720d44c4c8d44e86241219ce5cec6d6"}},a.next=14,re(o);case 14:c=a.sent,l={},d=[],m=[],f=[],p=Object(u["a"])(c.data.results);try{for(p.s();!(h=p.n()).done;)g=h.value,l[g["group_general_info/site"]]?new Date(l[g["group_general_info/site"]]._submission_time)<new Date(g._submission_time)&&(l[g["group_general_info/site"]]=g):l[g["group_general_info/site"]]=g}catch(C){p.e(C)}finally{p.f()}for(v in e.state.submissions=l,l)d.push({id:l[v]["group_general_info/state"],name:l[v]["group_general_info/state_name"]}),m.push({id:l[v]["group_general_info/lga"],name:l[v]["group_general_info/lga_name"],state:l[v]["group_general_info/state"]}),f.push({id:l[v]["group_general_info/site"],name:l[v]["group_general_info/site_name"],searchName:"".concat(l[v]["group_general_info/site"]," - ").concat(l[v]["group_general_info/site_name"]),lat:l[v]["group_general_info/latitude"],long:l[v]["group_general_info/longitude"],lga:l[v]["group_general_info/lga"],site_type:l[v]["group_general_info/site_type"]});return d=d.reduce((function(t,e){return t.concat(t.find((function(t){return t.id===e.id}))?[]:[e])}),[]),e.state.states=d,m=m.reduce((function(t,e){return t.concat(t.find((function(t){return t.id===e.id}))?[]:[e])}),[]),e.state.lgas=m,f.sort((function(t,e){return t.name.localeCompare(e.name)})),e.state.camps=f,a.next=31,fetch("https://gis.unhcr.org/arcgis/rest/services/core/wrl_adm1_polbnd_unhcr/FeatureServer/0/query?where=iso3+%3D+%27NGA%27&outFields=*&f=geojson");case 31:return b=a.sent,a.next=34,b.json();case 34:return e.state.statesBoundaries=a.sent,y="",d.map((function(t){return y+="dscodeadm1 = '".concat(t.id,"' OR ")})),y=y.substring(0,y.length-3),a.next=40,fetch("https://gis.unhcr.org/arcgis/rest/services/core/wrl_adm2_polbnd_a_unhcr/FeatureServer/0/query?where=".concat(y,"&outFields=*&f=geojson"));case 40:return _=a.sent,a.next=43,_.json();case 43:e.state.lgasBoundaries=a.sent,t.commit("filterStates"),t.commit("filterLgas"),t.commit("filterCamps"),e.state.datasetLoaded=!0,t.commit("setShowLoaders",!1),a.next=54;break;case 51:a.prev=51,a.t0=a["catch"](0),t.commit("setDataLoadingError",a.t0);case 54:case"end":return a.stop()}}),a,null,[[0,51]])})))()}},modules:{}}),oe=a("f309");s["a"].use(oe["a"]);var ce=new oe["a"]({theme:{themes:{light:{primary:"#286090",secondary:"#337FDD",accent:"#8c9eff",error:"#b71c1c"}}}});s["a"].config.productionTip=!1,new s["a"]({store:ie,vuetify:ce,render:function(t){return t(ae)}}).$mount("#app")},"588c":function(t,e,a){},7207:function(t,e,a){},"85ec":function(t,e,a){},"8a08":function(t,e,a){},"8f03":function(t,e,a){},aa1f:function(t,e,a){"use strict";var s=a("8a08"),r=a.n(s);r.a},ab85:function(t,e,a){"use strict";var s=a("45a5"),r=a.n(s);r.a},bc43:function(t,e,a){},c772:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return isRelevant}));var isRelevant=function isRelevant(condition,submission){return void 0!==submission&&(void 0!==condition&&(""==condition.relevant||eval(condition.relevant)))}},f41b:function(t,e,a){"use strict";var s=a("588c"),r=a.n(s);r.a},fed2:function(t,e,a){"use strict";var s=a("7207"),r=a.n(s);r.a},ffc4:function(t,e,a){"use strict";var s=a("8f03"),r=a.n(s);r.a}});
//# sourceMappingURL=app.1c760415.js.map